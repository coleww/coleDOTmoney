<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Manually Trigger Loading Routes in Ember</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
    <link href="/blog/stylesheets/main.css" rel="stylesheet" type="text/css" />
    <meta name="description" content="Making art with code and vice versa." />
<meta name="keywords" content="ruby, javascript, code, art" />
  </head>
  <body>
    <center>
<a href="/blog">        <img class="header" src="/blog/images/cool.png" />
</a>    </center>

    <div id="main" role="main">
      <h1>Manually Trigger Loading Routes in Ember</h1>

<h2>cuz Ember can&rsquo;t do  e v e r y t h i n g  for you</h2>

<p>Loading routes in Ember are pretty frigging sweet. You can drop a spinner .gif pretty much any frigging where you want. You can even make nested loading routes: it&rsquo;s frigging awesome.</p>

<p>One trick, however, is making use of those loading routes when persisting customer informatin to your datbase. The loading routes automagically hop into place while you are fetching data, but they can&rsquo;t do the same when saving it. That would be weird and unfortunate.</p>

<p>Instead, you must explicitly tell the router that you are loading some stuff and to just chill the frig out for a second while you figure some things out.</p>

<p>FOR EXAMPLE (presuming you are on the user.edit route, editing yrself):</p>
<pre class="highlight javascript"><code><span class="nx">saveUserInformation</span><span class="p">(){</span>

  <span class="c1">// MANUALLY TRANSITIONING TO THE LOADING ROUTE</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">transitionTo</span><span class="p">(</span><span class="s1">'loading'</span><span class="p">);</span>

  <span class="c1">// return a promise whose `then` and `catch` callbacks each transition to an appropriate route</span>
  <span class="k">return</span> <span class="nx">user</span><span class="p">.</span><span class="nx">save</span><span class="p">().</span><span class="nx">then</span><span class="p">(()</span><span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">transitionTo</span><span class="p">(</span><span class="s1">'user.index'</span><span class="p">);</span>
    <span class="c1">// success! go to the infernal User index and suffer with the rest of them!</span>

  <span class="p">}).</span><span class="k">catch</span><span class="p">((</span><span class="nx">e</span><span class="p">)</span><span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// do something to User with the `e` errors --&gt; very bad... show warning/</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">transitionTo</span><span class="p">(</span><span class="s1">'user.edit'</span><span class="p">,</span> <span class="nx">user</span><span class="p">);</span>
    <span class="c1">// return to the current page, with the current model data all still set like WOWWW</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre>

<p>A N D   T H A T S    I T</p>

<p>Just a simple <code>this.transitionTo(&#39;loading&#39;)</code> and you can punt the Ember route back into loading mode. Try it today!</p>

      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
    </div>

    <aside>
      <p><div id="contact">
        <a href="http://colewillsea.com/">Cole Willsea</a>
        (<a href="https://github.com/coleww">github</a>)
        (<a href="https://twitter.com/colewillsea">twitter</a>)
      </div></p>
      <h2>RECENT BLAGZ</h2>
      <ol>
          <li><a href="/blog/npm-cli.html">Building a *nice* CLI For Your Sick npm Module</a> <span>Jul 16</span></li>
          <li><a href="/blog/shelling-out.html">shelling out to the system</a> <span>Jul 10</span></li>
          <li><a href="/blog/do-cron.html">automating bots with cron on digital ocean</a> <span>Jun 23</span></li>
          <li><a href="/blog/trigger-loading-route-in-ember.html">Manually Trigger Loading Routes in Ember</a> <span>Jun  9</span></li>
          <li><a href="/blog/eating-glue-and-paste.html">Eating Glue</a> <span>Jun  3</span></li>
          <li><a href="/blog/syntax-highlighting-in-middleman.html">100% EZ Syntax Highlighting With Middleman</a> <span>May 30</span></li>
      </ol>

    </aside>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-26036675-1"]);
  _gaq.push(["_trackPageview"]);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </body>
</html>
