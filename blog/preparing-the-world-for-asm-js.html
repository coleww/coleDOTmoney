<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Preparing The World For ASM.js</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
    <link href="/blog/stylesheets/main-2ef393ac.css" rel="stylesheet" type="text/css" />
    <meta name="description" content="Writing code that makes art and vice versa." />
<meta name="keywords" content="ruby, javascript, code, poetry, clojure, npm, algorithm, art" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Writing code that makes art and vice versa." />
<meta property="og:description" content="Writing code that makes art and vice versa." />
  </head>
  <body>
    <center class="THEMAIN">
<a href="/blog">        <img class="header" src="/blog/images/cool-7b689408.png" />
</a>    </center>

    <div id="main" role="main">
      <h1>Preparing The World For ASM.js</h1>

<h2>An Open-Sauce Primer</h2>

<p><a href="https://www.destroyallsoftware.com/talks/the-birth-and-death-of-javascript">Thanks to one brave soul’s experiments with Unix based time travel</a> we have confirmed that, although no one alive today actually understands what asm.js is or does, someday someone will grok it hard and the net result is that we will be able to run Ruby on Rails inside of any web-browser. It is now imperative that we re-evaluate our definition of ‘close to the metal’, or else the future may arrive late to dinner.</p>

<p>asm.js throws a particularly dense monkey wrench into the NodeJS camp of Metallurgology because once you can compile any language to be run as JavaScript in the browser there will no longer be a reason to use NodeJS, except perhaps to execute server code written in Ruby on Rails. Imagine the speed!</p>

<p>While we cannot be certain precisely what role asm.js will play in the coming singularity and/or robot uprising, we should be working to build confidence in a technique I have come to refer to as ‘Polyglot Noding’. That is, the ability to monkey patch functionality from NodeJS and JavaScript into any language so as to fully exploit the power and promise of a compiler-target where every line ends with an ‘| 0&rsquo;. This is very close to the metal hacking, but I am sure that you did not need to be made aware of this fact! It should be apparent by the abundance of coerced static typing!</p>

<p>Nevertheless, a brief coding exercise:</p>

<p>The jQuery programming language has a function called $.get(). This function is very powerful because it can be used to get money, but it is built on top of the asynchronous A.J.A.X. protocol which the Ruby on Rails core library lacks.
Write a method ‘get’ which accepts a url and a callback, opens the url, passes the response to the callback, and does all of this through non-synchronous means.</p>
<pre class="highlight plaintext"><code>def get(url, callback)
# yr code here
end
</code></pre>

<p>We will let you ponder this one for a bit</p>

<hr>

<p><img src="/blog/images/jgl-0b1a5378.gif" /></p>

<hr>

<h2>YOU READY FOR THIS?</h2>

<script src="https://gist.github.com/coleww/3771e718dc4778c40a0f.js"></script>

<p>We start by loading open-uri, which gets packaged for free into every purchase of Ruby on Rails. No need to mess with Gemfiles or worry about dependencies here! This is also considered Ruby on Rails Best Practice&trade; because although NPM has solved the issue of dependencies in the NodeJS community, it is unclear whether or not such a package maid would be used in a post-asm.js world.</p>

<p>Our method is just a clean and readable one-liner that requires no explanation. Invoking it is as easy as passing the url from which you will be getting your money and a callback that will do something with that money. Perhaps count it, sort it, spend it, who knows! I don’t! The code is freely licensed open-sauce software so do with it what you wish.</p>

<p>As you can see, I am using the Super-Seattle-Style Ruby on Rails wherein parentheses are never used unless necessary, and opening parentheses are never used before arguments. Yes, my co-workers do hate me. How did you know?</p>

<p>So there you have it! We took a brief detour down into the metal, and wrote some functional code that can be used in every Ruby on Rails project. Just imagine what other Javascripts and jQueries we can implement in Ruby on Rails! Why, with enough bare-metal hacking we might even be able to pull a reverse asm.js and run Node code in our Ruby on Rails servers!</p>

      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
    </div>

    <aside>
      <p><div id="contact">
        <a href="http://colewillsea.com/">Cole Willsea</a>
        (<a href="https://github.com/coleww">github</a>)
        (<a href="https://twitter.com/colewillsea">twitter</a>)
      </div></p>
      <h2>RECENT BLAGZ</h2>
      <ol>
          <li><a href="/blog/triggering-midi-with-clojure.html">Controlling Electronic Instruments With MIDI and Clojure</a> <span>Aug 30</span></li>
          <li><a href="/blog/tdd-for-the-lazy-patient-and-messy.html">TDD for the Lazy, Patient, and Messy</a> <span>Aug 26</span></li>
          <li><a href="/blog/throwing-errs-js.html">Throwing Good Errors With JavaScript</a> <span>Aug 20</span></li>
          <li><a href="/blog/everything-tmux.html">Everything I Learned About TMUX In 3 Days</a> <span>Aug 15</span></li>
          <li><a href="/blog/context-switching-ember-rails.html">Eliminating The Ember-Rails Context Switch</a> <span>Aug  8</span></li>
      </ol>

      <h2>CALENDAR</h2>
      <ol>
        <h4><li><a href="/blog/blog/2015.html">2015: 15 BLAGS</a></h4>
          <ol>
              <h5><li><a href="/blog/blog/2015/08.html">August 2015: 7 blags</a></li></h5>
              <h5><li><a href="/blog/blog/2015/07.html">July 2015: 4 blags</a></li></h5>
              <h5><li><a href="/blog/blog/2015/06.html">June 2015: 3 blogotronz</a></li></h5>
              <h5><li><a href="/blog/blog/2015/05.html">May 2015: 1 blags</a></li></h5>
          </ol>
        </li>
        <h4><li><a href="/blog/blog/2014.html">2014: 6 BLAGS</a></h4>
          <ol>
              <h5><li><a href="/blog/blog/2014/10.html">October 2014: 1 blogotronz</a></li></h5>
              <h5><li><a href="/blog/blog/2014/09.html">September 2014: 2 blogotronz</a></li></h5>
              <h5><li><a href="/blog/blog/2014/08.html">August 2014: 3 blogotronz</a></li></h5>
          </ol>
        </li>
      </ol>

      <h2>TAGZ</h2>
      <ol>
          <li><a href="/blog/blog/tags/unix.html">unix (9)</a></li>
          <li><a href="/blog/blog/tags/ruby.html">ruby (7)</a></li>
          <li><a href="/blog/blog/tags/node.html">node (7)</a></li>
          <li><a href="/blog/blog/tags/clojure.html">clojure (3)</a></li>
          <li><a href="/blog/blog/tags/emacs.html">emacs (3)</a></li>
          <li><a href="/blog/blog/tags/overtone.html">overtone (2)</a></li>
          <li><a href="/blog/blog/tags/npm.html">npm (2)</a></li>
          <li><a href="/blog/blog/tags/music.html">music (2)</a></li>
          <li><a href="/blog/blog/tags/tdd.html">tdd (2)</a></li>
          <li><a href="/blog/blog/tags/bash.html">bash (2)</a></li>
          <li><a href="/blog/blog/tags/generators.html">generators (2)</a></li>
          <li><a href="/blog/blog/tags/ember.html">ember (2)</a></li>
          <li><a href="/blog/blog/tags/javascript.html">javascript (2)</a></li>
          <li><a href="/blog/blog/tags/rails.html">rails (2)</a></li>
          <li><a href="/blog/blog/tags/command-line.html">command line (2)</a></li>
          <li><a href="/blog/blog/tags/tom-dale.html">tom dale (1)</a></li>
          <li><a href="/blog/blog/tags/asm.html">asm (1)</a></li>
          <li><a href="/blog/blog/tags/jquery.html">jquery (1)</a></li>
          <li><a href="/blog/blog/tags/the-future.html">the future (1)</a></li>
          <li><a href="/blog/blog/tags/situationism.html">situationism (1)</a></li>
          <li><a href="/blog/blog/tags/the-occupy-movement.html">the occupy movement (1)</a></li>
          <li><a href="/blog/blog/tags/burn-out.html">burn out (1)</a></li>
          <li><a href="/blog/blog/tags/tech-culture.html">tech culture (1)</a></li>
          <li><a href="/blog/blog/tags/magneto.html">magneto (1)</a></li>
          <li><a href="/blog/blog/tags/gems.html">gems (1)</a></li>
          <li><a href="/blog/blog/tags/art.html">art (1)</a></li>
          <li><a href="/blog/blog/tags/conceptual-art.html">conceptual art (1)</a></li>
          <li><a href="/blog/blog/tags/twitter.html">twitter (1)</a></li>
          <li><a href="/blog/blog/tags/bots.html">bots (1)</a></li>
          <li><a href="/blog/blog/tags/blink182.html">blink182 (1)</a></li>
          <li><a href="/blog/blog/tags/middleman.html">middleman (1)</a></li>
          <li><a href="/blog/blog/tags/syntax-highlighting.html">syntax highlighting (1)</a></li>
          <li><a href="/blog/blog/tags/code.html">code (1)</a></li>
          <li><a href="/blog/blog/tags/meta-blog.html">meta-blog (1)</a></li>
          <li><a href="/blog/blog/tags/markdown.html">markdown (1)</a></li>
          <li><a href="/blog/blog/tags/john-gruber.html">john gruber (1)</a></li>
          <li><a href="/blog/blog/tags/paste-events.html">paste events (1)</a></li>
          <li><a href="/blog/blog/tags/browser-hijacking.html">browser hijacking (1)</a></li>
          <li><a href="/blog/blog/tags/magic.html">magic (1)</a></li>
          <li><a href="/blog/blog/tags/glue.html">glue (1)</a></li>
          <li><a href="/blog/blog/tags/pasta-recipes.html">pasta recipes (1)</a></li>
          <li><a href="/blog/blog/tags/loading-routes.html">loading routes (1)</a></li>
          <li><a href="/blog/blog/tags/spinner-gif.html">spinner gif (1)</a></li>
          <li><a href="/blog/blog/tags/async.html">async (1)</a></li>
          <li><a href="/blog/blog/tags/cron-job.html">cron job (1)</a></li>
          <li><a href="/blog/blog/tags/digital-ocean.html">digital ocean (1)</a></li>
          <li><a href="/blog/blog/tags/twitter-bots.html">twitter bots (1)</a></li>
          <li><a href="/blog/blog/tags/path.html">path (1)</a></li>
          <li><a href="/blog/blog/tags/ubuntu.html">ubuntu (1)</a></li>
          <li><a href="/blog/blog/tags/shell-scripts.html">shell scripts (1)</a></li>
          <li><a href="/blog/blog/tags/open-sauce.html">open sauce (1)</a></li>
          <li><a href="/blog/blog/tags/exec.html">exec (1)</a></li>
          <li><a href="/blog/blog/tags/kexec.html">kexec (1)</a></li>
          <li><a href="/blog/blog/tags/c.html">c (1)</a></li>
          <li><a href="/blog/blog/tags/linkedin.html">linkedin (1)</a></li>
          <li><a href="/blog/blog/tags/vim.html">vim (1)</a></li>
          <li><a href="/blog/blog/tags/cli-tool.html">cli tool (1)</a></li>
          <li><a href="/blog/blog/tags/pipe.html">pipe (1)</a></li>
          <li><a href="/blog/blog/tags/yargs.html">yargs (1)</a></li>
          <li><a href="/blog/blog/tags/cors.html">cors (1)</a></li>
          <li><a href="/blog/blog/tags/api.html">api (1)</a></li>
          <li><a href="/blog/blog/tags/http.html">http (1)</a></li>
          <li><a href="/blog/blog/tags/the-rocky-mountain-brew.html">the rocky mountain brew (1)</a></li>
          <li><a href="/blog/blog/tags/text-editors.html">text editors (1)</a></li>
          <li><a href="/blog/blog/tags/life-goals.html">life goals (1)</a></li>
          <li><a href="/blog/blog/tags/noise.html">noise (1)</a></li>
          <li><a href="/blog/blog/tags/pitch.html">pitch (1)</a></li>
          <li><a href="/blog/blog/tags/samples.html">samples (1)</a></li>
          <li><a href="/blog/blog/tags/career-advice.html">career advice (1)</a></li>
          <li><a href="/blog/blog/tags/poetry.html">poetry (1)</a></li>
          <li><a href="/blog/blog/tags/literature.html">literature (1)</a></li>
          <li><a href="/blog/blog/tags/testing.html">testing (1)</a></li>
          <li><a href="/blog/blog/tags/close-to-the-metal.html">close to the metal (1)</a></li>
          <li><a href="/blog/blog/tags/meta-tdd.html">meta-tdd (1)</a></li>
          <li><a href="/blog/blog/tags/the-metal.html">the metal (1)</a></li>
          <li><a href="/blog/blog/tags/tmux.html">tmux (1)</a></li>
          <li><a href="/blog/blog/tags/ssh.html">ssh (1)</a></li>
          <li><a href="/blog/blog/tags/multiplexing.html">multiplexing (1)</a></li>
          <li><a href="/blog/blog/tags/error-handling.html">error handling (1)</a></li>
          <li><a href="/blog/blog/tags/errors.html">errors (1)</a></li>
          <li><a href="/blog/blog/tags/problems.html">problems (1)</a></li>
          <li><a href="/blog/blog/tags/throwing.html">throwing (1)</a></li>
          <li><a href="/blog/blog/tags/catching.html">catching (1)</a></li>
          <li><a href="/blog/blog/tags/human-brain-response-times.html">human brain response times (1)</a></li>
          <li><a href="/blog/blog/tags/magic-square.html">magic square (1)</a></li>
          <li><a href="/blog/blog/tags/midi.html">midi (1)</a></li>
          <li><a href="/blog/blog/tags/boss-sp.html">boss sp (1)</a></li>
      </ol>
    </aside>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-26036675-1"]);
  _gaq.push(["_trackPageview"]);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  </body>
</html>
